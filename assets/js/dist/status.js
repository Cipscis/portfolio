(()=>{"use strict";const e={},t=function(n,s){const o=n.split(/\s+/).filter((e=>!!e));if(o.length>1)for(const e of o)t(e,s);else{n in e||(e[n]=[]);const t=e[n];!1===t.includes(s)&&t.push(s)}},n=function(e){const t="data-autohide-timeout",n={SUCCESS:"SUCCESS",ERROR:"ERROR"},s={[n.SUCCESS]:"success",[n.ERROR]:"error",hidden:"hidden"},o={_initSubscriptions:function(){e&&(e("/status/success",o.success),e("/status/error",o.error),e("/status/hide",o.hide))},_getEl:function(e){return"string"==typeof e?e=document.querySelector(e):e instanceof NodeList?e=e[0]:void 0===e&&(e=document.querySelector(".js-status")),e||console.error("No status element could be found"),e},_clearType:function(e){for(let t in n){let n=s[t];e.classList.contains(n)&&e.classList.remove(n)}},_setType:function(e,t){let n=s[e];n?(o._clearType(t),window.setTimeout((()=>t.classList.add(n)),10)):console.error("No CSS class is defined for status type "+e)},_clearMessage:function(e){e.textContent=""},_setMessage:function(e,t){o._clearMessage(t),window.setTimeout((()=>t.textContent=e),100)},_show:function(e,t,n,i){o._setType(t,n),o._setMessage(e,n),n.classList.remove(s.hidden),o._setAutohide(n,i)},_setAutohide:function(e,n){if(o._clearAutohide(e),n&&n>0){let s=window.setTimeout((()=>o.hide(e)),n);e.setAttribute(t,s)}},_clearAutohide:function(e){let n=e.getAttribute(t);n&&(window.clearTimeout(n),e.removeAttribute(t))},hide:function(e){(e=o._getEl(e)).classList.add(s.hidden),o._clearAutohide(e)},success:function(e,t,s){t=o._getEl(t),o._show(e,n.SUCCESS,t,s)},error:function(e,t,s){t=o._getEl(t),o._show(e,n.ERROR,t,s)}};return o._initSubscriptions(),{hide:o.hide,success:o.success,error:o.error}}(t),s=new Map;function o(e,t,n){if("string"==typeof e)try{e=document.querySelectorAll(e)}catch(t){throw new DOMException(`${n===c?"deactivate":"activate"} failed because it was passed an invalid selector string: '${e}'`)}e instanceof HTMLElement?n(e,t):e.forEach((e=>n(e,t)))}function i(e,t){if(!(e instanceof HTMLElement))throw new TypeError("activate failed because a valid HTMLElement was not passed");if(!(r(e,t)||(e.addEventListener("click",t),e instanceof HTMLButtonElement))){!1===u(e)&&e.addEventListener("keydown",a);const n=function(e){return function(t){if(l(t))return e.call(this,t)}}(t);e.addEventListener("keyup",n);const o={spacebarFn:n};if(!(e instanceof HTMLAnchorElement)){const n=function(e){return function(t){const n=function(e){return!(!e.key||"enter"!==e.key.toLowerCase())}(t);if(n)return e.call(this,t)}}(t);e.addEventListener("keydown",n),o.enterFn=n}!function(e,t,n){let o=s.get(e);o||(o=new Map([[t,n]]),s.set(e,o));let i=o.get(t);i?Object.assign(i,n):(i=Object.assign({},n),o.set(t,i))}(e,t,o)}}function c(e,t){if(!(e instanceof HTMLElement))throw new TypeError("deactivate failed because a valid HTMLElement was not passed");e.removeEventListener("click",t);const n=r(e,t);n&&(e instanceof HTMLButtonElement||(n.spacebarFn&&e.removeEventListener("keyup",n.spacebarFn),e instanceof HTMLAnchorElement||n.enterFn&&e.removeEventListener("keydown",n.enterFn),function(e,t){const n=s.get(e);n&&(n.delete(t),s.delete(e))}(e,t),!1===u(e)&&e.removeEventListener("keydown",a)))}function r(e,t){const n=s.get(e);if(n)return n.get(t)}function u(e){return s.has(e)}function a(e){const t=this,n=t instanceof HTMLButtonElement,s=t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement,o=l(e);n||s||!o||e.preventDefault()}function l(e){return!(!e.key||" "!==e.key&&"spacebar"!==e.key.toLowerCase())}function d(e,t){o(e,t,i)}d(".js-status-example-success",(()=>n.success("Success :)"))),d(".js-status-example-error",(()=>n.error("Error :("))),d(".js-status-example-hide",(()=>n.hide())),d(".js-status-example-custom",(()=>n.success("Custom success :)",".js-status-custom"))),d(".js-status-example-custom-hide",(()=>n.hide(".js-status-custom"))),d(".js-status-example-autohide",(()=>n.success("This message will hide in 10 seconds",null,1e4)))})();
//# sourceMappingURL=status.js.map