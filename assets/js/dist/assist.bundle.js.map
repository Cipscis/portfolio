{"version":3,"sources":["webpack://Portfolio/./node_modules/pubsub/pubsub.js","webpack://Portfolio/./app/assets/js/src/assist/assist.js","webpack://Portfolio/./app/assets/js/src/assist/example.js"],"names":["subscriptions","assist","subscribe","$messageEl","document","createElement","messageElInit","module","speak","message","_initMessageEl","innerHTML","window","setTimeout","classList","add","setAttribute","body","appendChild","event","callback","callbacks","includes","push","querySelector","addEventListener","e","preventDefault","value"],"mappings":"mBAAA,MAAMA,EAAgB,GCIhBC,EAAS,SAAWC,GACzB,MAAMC,EAAaC,SAASC,cAAc,QAC1C,IAAIC,GAAgB,EAEpB,MAQMC,EAAS,CACdC,MAAO,SAAUC,IACM,IAAlBH,GACHC,EAAOG,iBAGRP,EAAWQ,UAAY,GACvBC,OAAOC,YAAW,IAAMV,EAAWQ,UAAYF,GAAS,MAGzDC,eAAgB,WACfP,EAAWW,UAAUC,IAlBN,oBAmBfZ,EAAWa,aAAa,YAAa,aAErCZ,SAASa,KAAKC,YAAYf,GAE1BG,GAAgB,IAQlB,OAJIJ,GACHA,EAAU,gBAAiBK,EAAOC,OAG5B,CACNA,MAAOD,EAAOC,OArCD,EDQG,SAAUW,EAAOC,GAC5BD,KAASnB,IACdA,EAAcmB,GAAS,IAGxB,IAAIE,EAAYrB,EAAcmB,IAGO,IAAjCE,EAAUC,SAASF,IACtBC,EAAUE,KAAKH,MEnBjBhB,SAASoB,cAAc,oBAAoBC,iBAAiB,UAAUC,IACrEA,EAAEC,iBACF,IACIlB,EADWL,SAASoB,cAAc,eACfI,MAEvB3B,EAAOO,MAAMC,O","file":"assist.bundle.js","sourcesContent":["const subscriptions = {};\n\nconst publish = function (event, ...args) {\n\tif (event in subscriptions) {\n\t\tlet callbacks = subscriptions[event];\n\n\t\tcallbacks.forEach((callback) => {\n\t\t\tcallback.apply(null, args);\n\t\t});\n\t}\n};\n\nconst subscribe = function (event, callback) {\n\tif (!(event in subscriptions)) {\n\t\tsubscriptions[event] = [];\n\t}\n\n\tlet callbacks = subscriptions[event];\n\n\t// Don't bind a particular function to an event more than once\n\tif (callbacks.includes(callback) === false) {\n\t\tcallbacks.push(callback);\n\t}\n};\n\nconst unsubscribe = function (event, callback) {\n\tif (event in subscriptions) {\n\t\tlet callbacks = subscriptions[event];\n\t\tlet index = callbacks.indexOf(callback);\n\n\t\tif (index !== -1) {\n\t\t\tcallbacks.splice(index, 1);\n\t\t}\n\t}\n};\n\nexport { publish, subscribe, unsubscribe };\n","/* Assist 1.0 */\n\nimport { subscribe } from 'pubsub';\n\nconst assist = (function (subscribe) {\n\tconst $messageEl = document.createElement('span');\n\tlet messageElInit = false;\n\n\tconst classes = {\n\t\tvisuallyhidden: 'u-visuallyhidden'\n\t};\n\n\tconst events = {\n\t\tspeak: '/assist/speak'\n\t};\n\n\tconst module = {\n\t\tspeak: function (message) {\n\t\t\tif (messageElInit === false) {\n\t\t\t\tmodule._initMessageEl();\n\t\t\t}\n\n\t\t\t$messageEl.innerHTML = '';\n\t\t\twindow.setTimeout(() => $messageEl.innerHTML = message, 100);\n\t\t},\n\n\t\t_initMessageEl: function () {\n\t\t\t$messageEl.classList.add(classes.visuallyhidden);\n\t\t\t$messageEl.setAttribute('aria-live', 'assertive');\n\n\t\t\tdocument.body.appendChild($messageEl);\n\n\t\t\tmessageElInit = true;\n\t\t}\n\t};\n\n\tif (subscribe) {\n\t\tsubscribe('/assist/speak', module.speak);\n\t}\n\n\treturn {\n\t\tspeak: module.speak\n\t};\n})(subscribe);\n\nexport { assist };\nexport default assist;\n","import { assist } from './assist.js';\n\ndocument.querySelector('.js-message-form').addEventListener('submit', e => {\n\te.preventDefault();\n\tlet $message = document.querySelector('.js-message');\n\tlet message = $message.value;\n\n\tassist.speak(message);\n});\n"],"sourceRoot":""}