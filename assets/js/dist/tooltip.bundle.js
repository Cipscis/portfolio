(()=>{"use strict";const e=function(){const e={},n={_isFocusOnInput:function(){let e=document.activeElement,n=e.nodeName.toLowerCase(),t=["input","textarea","select"].includes(n);if("input"===n){let n=e.attributes.type.value.toLowerCase();["color","radio","checkbox"].includes(n)&&(t=!1)}else e.isContentEditable&&(t=!0);return t},_bindFn:function(n,t,i){document.addEventListener("keydown",i),e[n]||(e[n]=[]),e[n].push({fn:t,fnWrapper:i})},bind:function(e,t,i,o){if("string"!=typeof e)throw new TypeError("The key parameter to bind must be a string.");e=e.toLowerCase(),n._bindFn(e,t,(function(s){(i||!n._isFocusOnInput()||o)&&s.key&&s.key.toLowerCase()===e&&(o&&!s.ctrlKey||!1===t.apply(this,arguments)&&(s.preventDefault(),s.stopPropagation()))}))},unbind:function(n,t){let i=e[n];if(i){let e;for(e=0;e<i.length&&i[e].fn!==t;e++);e<i.length&&(document.removeEventListener("keydown",i[e].fnWrapper),i.splice(e,1))}},rebind:function(e,t,i,o,s){n.unbind(e,t),n.bind(i,t,o,s)},_getSequenceArgs:function(e,n,t,i){let o=Array.prototype.splice.call(arguments,0),s=o[0];return i=o[o.length-1],Array.isArray(s)||(s=o.splice(0,o.length-1)),{keys:s,fn:i}},bindSequence:function(e,t,i,o){let s=n._getSequenceArgs.apply(this,arguments),r=s.keys,u=[];if(o=s.fn,r.length>1){let e=function(e){let t=e.key.toLowerCase();if(!n._isFocusOnInput()&&("shift"!==t&&u.push(t),u.length>r.length&&u.shift(),t===r[r.length-1])){let n;for(n=0;n<r.length&&r[n]===u[n];n++);n===r.length&&!1===o.apply(this,arguments)&&(e.preventDefault(),e.stopPropagation())}},t=r.join(",");n._bindFn(t,o,e)}},unbindSequence:function(e,t,i,o){let s=n._getSequenceArgs.apply(this,arguments),r=s.keys.join(",");o=s.fn,n.unbind(r,o)},rebindSequence:function(e,t,i){n.unbindSequence(e,t),n.bindSequence(i,t)}};return{bind:n.bind,unbind:n.unbind,rebind:n.rebind,bindSequence:n.bindSequence,unbindSequence:n.unbindSequence,rebindSequence:n.rebindSequence}}();(function(){const n=".js-tooltip",t="tooltip--hidden";let i=!1;const o={init:function(){!1===i&&(o._initEvents(),o._initKeybinding()),i=!0},_initEvents:function(){document.querySelectorAll(n).forEach((e=>{e.addEventListener("mouseleave",o._removeHiddenClassEvent(e)),e.addEventListener("focusout",o._processTooltipFocusOut)}))},_initKeybinding:function(){e.bind("escape",o._hideOpenTooltips)},_hideOpenTooltips:function(){o._getOpenTooltips().forEach((e=>{e.classList.add(t)}))},_removeHiddenClassEvent:function(e){return n=>{document.activeElement!==e&&o._removeHiddenClass(e)}},_removeHiddenClass:function(e){e.classList.remove(t)},_processTooltipFocusOut:function(e){window.setTimeout((()=>{let n=e.target,t=document.activeElement,i=o._getClosestTooltip(n);i!==o._getClosestTooltip(t)&&o._removeHiddenClass(i)}),0)},_getOpenTooltips:function(){let e=o._getOpenTooltipBodies(),n=[];return e.forEach((e=>{let t=o._getClosestTooltip(e);t?n.push(t):console.error("Could not find tooltip of open body:",e)})),n},_getOpenTooltipBodies:function(){let e=document.querySelectorAll(".js-tooltip__body");return Array.from(e).filter((e=>null!==e.offsetParent))},_getClosestTooltip:function(e){let t=e;for(;t&&!1===t.matches(n);)t=t.parentElement;return t}};return{init:o.init}})().init()})();
//# sourceMappingURL=tooltip.bundle.js.map